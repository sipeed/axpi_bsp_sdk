/**********************************************************************************
 *
 * Copyright (c) 2019-2020 Beijing AXera Technology Co., Ltd. All Rights Reserved.
 *
 * This source file is the property of Beijing AXera Technology Co., Ltd. and
 * may not be copied or distributed in any isomorphic form without the prior
 * written consent of Beijing AXera Technology Co., Ltd.
 *
 **********************************************************************************/

#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <signal.h>
#include <errno.h>
#include <unistd.h>

#include "ax_vin_api.h"
#include "ax_isp_api.h"
#include "ax_mipi_api.h"
#include "ax_sensor_struct.h"
#include "ax_isp_3a_api.h"
#include "common_cam.h"
#include "common_type.h"
#include "sample_isp_lsc.h"
#define AX_PIPE_MAX_NUM  (8)

static SAMPLE_ISP_LSC_PARAM_T sample_lsc_param = {
    /* nLscEn */
    1,
    /* nRefMode */
    1,
    /* nMeshMode */
    0,
    /* nAutoMode */
    1,
    /* tManualParam */
    {
        /* nLumaRatio */
        100,
        /* tLumaMeshTab */
        {
            /* nLumaMeshLut[15][19] */
            {
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
            },
        },
        /* tColorMeshTab */
        {
            /* nRRMeshLut[15][19] */
            {
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
            },
            /* nGRMeshLut[15][19] */
            {
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
            },
            /* nGBMeshLut[15][19] */
            {
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
            },
            /* nBBMeshLut[15][19] */
            {
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
                        {16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, 16385, /*0 - 18*/},
            },
        },
    },
    /* tAutoParam */
    {
        /* nDampRatio */
        80,
        /* nParamGrpNum */
        1,
        /* nRefVal[16] */
        {1024, /*0 - 0*/},
        /* nLumaRatio[16] */
        {100, /*0 - 0*/},
        /* tCalibMeshValue */
        {
            /* nColorTempNum */
            5,
            /* nColorTemp[10] */
            {2800, 5000, 6500, 2300, 3800, /*0 - 4*/},
            /* tColorMeshTab[10] */
            {
                /* 0 *///*A*//
                {
                    /* nRRMeshLut[15][19] */
                    {
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                    },
                    /* nGRMeshLut[15][19] */
                    {
                        {16384, 16384, 16388, 16390, 16390, 16388, 16386, 16385, 16385, 16384, 16384, 16385, 16385, 16386, 16388, 16390, 16390, 16388, 16384, /*0 - 18*/},
                        {16384, 16388, 16386, 16386, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16388, 16389, 16389, 16391, 16393, 16396, 16400, 16384, /*0 - 18*/},
                        {16384, 16388, 16387, 16386, 16384, 16384, 16384, 16384, 16384, 16385, 16386, 16388, 16389, 16389, 16391, 16394, 16398, 16399, 16386, /*0 - 18*/},
                        {16384, 16388, 16386, 16384, 16384, 16386, 16384, 16384, 16384, 16386, 16385, 16387, 16388, 16390, 16392, 16395, 16397, 16398, 16388, /*0 - 18*/},
                        {16384, 16389, 16386, 16385, 16384, 16384, 16384, 16384, 16385, 16385, 16384, 16386, 16389, 16391, 16392, 16394, 16395, 16398, 16389, /*0 - 18*/},
                        {16384, 16388, 16388, 16387, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16388, 16391, 16392, 16394, 16396, 16399, 16389, /*0 - 18*/},
                        {16384, 16386, 16385, 16386, 16386, 16384, 16384, 16384, 16384, 16384, 16386, 16387, 16388, 16391, 16393, 16394, 16396, 16400, 16389, /*0 - 18*/},
                        {16384, 16387, 16385, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16386, 16387, 16388, 16391, 16393, 16394, 16395, 16400, 16389, /*0 - 18*/},
                        {16384, 16387, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16388, 16391, 16392, 16394, 16396, 16398, 16389, /*0 - 18*/},
                        {16384, 16387, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16386, 16387, 16389, 16392, 16395, 16397, 16389, /*0 - 18*/},
                        {16384, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16386, 16386, 16389, 16391, 16393, 16396, 16388, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16386, 16388, 16389, 16392, 16397, 16386, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16386, 16389, 16393, 16396, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16386, 16389, 16390, 16394, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16389, 16390, 16389, 16388, 16387, 16386, 16386, 16386, 16386, 16387, 16388, 16389, 16390, 16389, 16384, 16384, /*0 - 18*/},
                    },
                    /* nGBMeshLut[15][19] */
                    {
                        {16413, 16390, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16390, /*0 - 18*/},
                        {16403, 16384, 16384, 16384, 16384, 16386, 16386, 16386, 16385, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, /*0 - 18*/},
                        {16396, 16384, 16384, 16384, 16384, 16385, 16386, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16392, 16384, 16384, 16384, 16384, 16384, 16384, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16389, 16384, 16384, 16384, 16384, 16386, 16387, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16387, 16384, 16384, 16384, 16384, 16387, 16389, 16387, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16387, 16384, 16384, 16384, 16384, 16385, 16387, 16387, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16387, 16384, 16384, 16384, 16384, 16386, 16388, 16387, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16387, 16384, 16384, 16385, 16387, 16388, 16388, 16386, 16384, 16385, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16389, 16384, 16384, 16388, 16388, 16388, 16388, 16388, 16387, 16386, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16392, 16384, 16384, 16387, 16388, 16388, 16389, 16390, 16390, 16388, 16387, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16396, 16385, 16386, 16387, 16388, 16389, 16389, 16390, 16390, 16391, 16390, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16403, 16388, 16388, 16390, 16390, 16390, 16391, 16392, 16391, 16391, 16390, 16388, 16384, 16384, 16384, 16384, 16384, 16384, 16385, /*0 - 18*/},
                        {16413, 16390, 16389, 16391, 16391, 16391, 16392, 16392, 16391, 16389, 16390, 16388, 16385, 16385, 16384, 16384, 16384, 16384, 16390, /*0 - 18*/},
                        {16428, 16398, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16398, /*0 - 18*/},
                    },
                    /* nBBMeshLut[15][19] */
                    {
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                    },
                },
                /* 1 *///*D50*//
                {
                    /* nRRMeshLut[15][19] */
                    {
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                    },
                    /* nGRMeshLut[15][19] */
                    {
                        {16384, 16384, 16384, 16387, 16387, 16386, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16386, 16387, 16387, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16386, 16385, 16387, 16389, 16390, 16392, 16395, 16397, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16386, 16387, 16386, 16388, 16391, 16394, 16396, 16398, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16384, 16387, 16388, 16387, 16387, 16389, 16394, 16397, 16397, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16388, 16387, 16386, 16387, 16389, 16393, 16394, 16396, 16385, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16388, 16388, 16386, 16387, 16389, 16391, 16392, 16395, 16385, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16386, 16386, 16386, 16385, 16386, 16388, 16389, 16393, 16395, 16386, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16384, 16384, 16386, 16388, 16389, 16391, 16395, 16386, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16387, 16387, 16387, 16387, 16390, 16394, 16385, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16386, 16387, 16387, 16389, 16391, 16394, 16385, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16386, 16388, 16389, 16391, 16393, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16385, 16387, 16389, 16391, 16393, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16386, 16388, 16390, 16393, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16385, 16389, 16392, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16386, 16387, 16387, 16386, 16385, 16384, 16384, 16384, 16384, 16385, 16386, 16387, 16387, 16386, 16384, 16384, /*0 - 18*/},
                    },
                    /* nGBMeshLut[15][19] */
                    {
                        {16417, 16394, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16385, 16385, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16394, /*0 - 18*/},
                        {16407, 16386, 16387, 16388, 16387, 16387, 16386, 16385, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16389, /*0 - 18*/},
                        {16400, 16384, 16386, 16387, 16388, 16387, 16386, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16386, /*0 - 18*/},
                        {16396, 16384, 16386, 16386, 16386, 16386, 16387, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16393, 16384, 16385, 16386, 16387, 16388, 16388, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16391, 16385, 16385, 16386, 16388, 16388, 16389, 16387, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16390, 16386, 16387, 16388, 16388, 16388, 16389, 16388, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16390, 16386, 16386, 16387, 16388, 16389, 16389, 16387, 16386, 16384, 16384, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16391, 16384, 16384, 16386, 16389, 16390, 16388, 16386, 16387, 16386, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16393, 16384, 16385, 16387, 16389, 16388, 16388, 16388, 16386, 16387, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16396, 16384, 16386, 16387, 16387, 16387, 16389, 16389, 16386, 16386, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16400, 16387, 16389, 16390, 16389, 16390, 16389, 16389, 16388, 16387, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16386, /*0 - 18*/},
                        {16407, 16392, 16393, 16391, 16391, 16391, 16391, 16390, 16389, 16390, 16389, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16389, /*0 - 18*/},
                        {16417, 16393, 16393, 16391, 16389, 16392, 16392, 16390, 16389, 16389, 16389, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16394, /*0 - 18*/},
                        {16431, 16402, 16388, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16388, 16402, /*0 - 18*/},
                    },
                    /* nBBMeshLut[15][19] */
                    {
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                    },
                },
                /* 2 *///*D65*//
                {
                    /* nRRMeshLut[15][19] */
                    {
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                    },
                    /* nGRMeshLut[15][19] */
                    {
                        {16384, 16384, 16384, 16386, 16388, 16388, 16388, 16387, 16387, 16387, 16387, 16387, 16387, 16388, 16388, 16388, 16386, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16385, 16384, 16386, 16387, 16389, 16391, 16390, 16392, 16394, 16393, 16393, 16397, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16385, 16385, 16386, 16388, 16389, 16391, 16391, 16393, 16394, 16393, 16395, 16397, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16386, 16387, 16389, 16390, 16390, 16393, 16393, 16394, 16397, 16398, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16387, 16391, 16390, 16391, 16392, 16393, 16395, 16395, 16396, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16387, 16389, 16391, 16392, 16391, 16392, 16393, 16392, 16393, 16385, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16386, 16384, 16384, 16385, 16386, 16386, 16387, 16389, 16391, 16391, 16390, 16391, 16394, 16394, 16385, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16385, 16384, 16384, 16385, 16385, 16384, 16385, 16387, 16390, 16391, 16390, 16392, 16395, 16396, 16385, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16387, 16389, 16392, 16392, 16392, 16393, 16396, 16385, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16387, 16389, 16392, 16394, 16392, 16392, 16396, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16387, 16388, 16388, 16392, 16394, 16393, 16393, 16395, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16387, 16388, 16389, 16389, 16392, 16393, 16391, 16393, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16387, 16388, 16387, 16390, 16392, 16391, 16391, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16386, 16387, 16387, 16388, 16390, 16391, 16392, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16385, 16387, 16388, 16388, 16388, 16388, 16388, 16388, 16388, 16388, 16388, 16388, 16387, 16385, 16384, 16384, /*0 - 18*/},
                    },
                    /* nGBMeshLut[15][19] */
                    {
                        {16402, 16391, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16391, /*0 - 18*/},
                        {16397, 16384, 16387, 16387, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16388, /*0 - 18*/},
                        {16394, 16385, 16387, 16388, 16386, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16386, /*0 - 18*/},
                        {16392, 16385, 16386, 16387, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, /*0 - 18*/},
                        {16390, 16384, 16386, 16387, 16386, 16385, 16386, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16389, 16386, 16387, 16385, 16384, 16386, 16386, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16389, 16387, 16386, 16384, 16384, 16385, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16389, 16387, 16388, 16385, 16384, 16384, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16389, 16390, 16388, 16386, 16385, 16384, 16384, 16384, 16385, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16390, 16389, 16387, 16387, 16385, 16384, 16385, 16384, 16384, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16392, 16386, 16388, 16388, 16385, 16384, 16386, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, /*0 - 18*/},
                        {16394, 16387, 16389, 16388, 16385, 16385, 16386, 16386, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16386, /*0 - 18*/},
                        {16397, 16389, 16391, 16389, 16387, 16386, 16386, 16386, 16385, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16388, /*0 - 18*/},
                        {16402, 16391, 16392, 16390, 16389, 16388, 16386, 16384, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16391, /*0 - 18*/},
                        {16408, 16395, 16387, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16387, 16395, /*0 - 18*/},
                    },
                    /* nBBMeshLut[15][19] */
                    {
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                    },
                },
                /* 3 *///*H*//
                {
                    /* nRRMeshLut[15][19] */
                    {
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                    },
                    /* nGRMeshLut[15][19] */
                    {
                        {16384, 16384, 16391, 16393, 16392, 16390, 16389, 16388, 16387, 16387, 16387, 16387, 16388, 16389, 16390, 16392, 16393, 16391, 16384, /*0 - 18*/},
                        {16384, 16389, 16390, 16389, 16389, 16387, 16386, 16386, 16385, 16386, 16387, 16388, 16390, 16394, 16395, 16396, 16398, 16402, 16386, /*0 - 18*/},
                        {16384, 16393, 16391, 16388, 16387, 16386, 16387, 16387, 16387, 16388, 16390, 16389, 16389, 16393, 16394, 16396, 16400, 16403, 16389, /*0 - 18*/},
                        {16384, 16392, 16389, 16387, 16385, 16385, 16386, 16385, 16386, 16389, 16389, 16388, 16389, 16392, 16393, 16395, 16399, 16401, 16391, /*0 - 18*/},
                        {16384, 16390, 16387, 16387, 16386, 16386, 16385, 16385, 16386, 16386, 16388, 16389, 16391, 16392, 16394, 16396, 16399, 16403, 16392, /*0 - 18*/},
                        {16384, 16391, 16388, 16388, 16386, 16386, 16386, 16386, 16387, 16387, 16388, 16391, 16393, 16394, 16396, 16398, 16399, 16404, 16392, /*0 - 18*/},
                        {16385, 16390, 16388, 16388, 16387, 16386, 16386, 16386, 16387, 16387, 16388, 16389, 16391, 16393, 16395, 16397, 16399, 16401, 16392, /*0 - 18*/},
                        {16385, 16390, 16388, 16387, 16386, 16386, 16385, 16384, 16384, 16384, 16387, 16389, 16390, 16391, 16393, 16396, 16399, 16400, 16392, /*0 - 18*/},
                        {16384, 16391, 16390, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16387, 16389, 16391, 16393, 16394, 16399, 16401, 16392, /*0 - 18*/},
                        {16384, 16391, 16389, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16388, 16391, 16392, 16394, 16397, 16401, 16392, /*0 - 18*/},
                        {16384, 16388, 16386, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16388, 16392, 16392, 16393, 16396, 16399, 16391, /*0 - 18*/},
                        {16384, 16389, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16387, 16390, 16390, 16392, 16395, 16397, 16389, /*0 - 18*/},
                        {16384, 16386, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16386, 16387, 16388, 16391, 16395, 16386, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16387, 16388, 16391, 16395, 16384, /*0 - 18*/},
                        {16384, 16384, 16388, 16392, 16393, 16391, 16390, 16389, 16388, 16388, 16388, 16388, 16389, 16390, 16391, 16393, 16392, 16388, 16384, /*0 - 18*/},
                    },
                    /* nGBMeshLut[15][19] */
                    {
                        {16410, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16386, /*0 - 18*/},
                        {16399, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16393, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16388, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16385, 16384, 16384, 16384, 16384, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16385, 16384, 16384, 16384, 16386, 16385, 16384, 16384, 16385, 16386, 16387, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16388, 16384, 16384, 16384, 16385, 16385, 16385, 16386, 16387, 16388, 16388, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16393, 16384, 16384, 16384, 16385, 16386, 16386, 16387, 16387, 16387, 16389, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16399, 16384, 16384, 16384, 16385, 16388, 16387, 16388, 16390, 16389, 16390, 16387, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16410, 16387, 16386, 16386, 16388, 16390, 16391, 16391, 16392, 16389, 16388, 16389, 16387, 16384, 16384, 16384, 16384, 16384, 16386, /*0 - 18*/},
                        {16425, 16394, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16394, /*0 - 18*/},
                    },
                    /* nBBMeshLut[15][19] */
                    {
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                    },
                },
                /* 4 *///*TL84*//
                {
                    /* nRRMeshLut[15][19] */
                    {
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                    },
                    /* nGRMeshLut[15][19] */
                    {
                        {16384, 16384, 16390, 16391, 16390, 16388, 16387, 16386, 16386, 16386, 16386, 16386, 16386, 16387, 16388, 16390, 16391, 16390, 16384, /*0 - 18*/},
                        {16384, 16384, 16385, 16385, 16384, 16384, 16384, 16384, 16384, 16386, 16385, 16386, 16388, 16389, 16392, 16396, 16400, 16404, 16385, /*0 - 18*/},
                        {16384, 16386, 16385, 16384, 16384, 16384, 16384, 16384, 16385, 16387, 16388, 16388, 16389, 16390, 16393, 16394, 16397, 16404, 16388, /*0 - 18*/},
                        {16384, 16389, 16385, 16384, 16384, 16384, 16385, 16385, 16386, 16389, 16389, 16390, 16390, 16391, 16392, 16393, 16396, 16404, 16390, /*0 - 18*/},
                        {16384, 16390, 16386, 16384, 16384, 16384, 16384, 16384, 16386, 16387, 16387, 16388, 16389, 16390, 16392, 16394, 16397, 16402, 16390, /*0 - 18*/},
                        {16384, 16387, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16387, 16386, 16387, 16388, 16390, 16394, 16395, 16396, 16400, 16391, /*0 - 18*/},
                        {16384, 16389, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16386, 16388, 16389, 16389, 16392, 16395, 16397, 16400, 16391, /*0 - 18*/},
                        {16384, 16389, 16386, 16385, 16385, 16384, 16384, 16384, 16384, 16384, 16387, 16388, 16388, 16389, 16391, 16392, 16396, 16400, 16391, /*0 - 18*/},
                        {16384, 16387, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16386, 16385, 16385, 16389, 16391, 16391, 16395, 16400, 16391, /*0 - 18*/},
                        {16384, 16387, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16386, 16390, 16391, 16391, 16394, 16399, 16390, /*0 - 18*/},
                        {16384, 16389, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16387, 16387, 16388, 16390, 16391, 16394, 16398, 16390, /*0 - 18*/},
                        {16384, 16388, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16387, 16387, 16388, 16389, 16391, 16394, 16400, 16388, /*0 - 18*/},
                        {16384, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16386, 16388, 16388, 16390, 16394, 16399, 16385, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16385, 16387, 16387, 16390, 16394, 16398, 16384, /*0 - 18*/},
                        {16384, 16384, 16386, 16391, 16391, 16390, 16388, 16387, 16386, 16386, 16386, 16386, 16387, 16388, 16390, 16391, 16391, 16386, 16384, /*0 - 18*/},
                    },
                    /* nGBMeshLut[15][19] */
                    {
                        {16414, 16388, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16388, /*0 - 18*/},
                        {16402, 16384, 16384, 16384, 16384, 16385, 16387, 16387, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16395, 16384, 16384, 16384, 16384, 16385, 16386, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16390, 16384, 16384, 16385, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16387, 16384, 16384, 16384, 16387, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16385, 16384, 16384, 16385, 16386, 16386, 16385, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16385, 16386, 16387, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16385, 16385, 16386, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16385, 16384, 16384, 16386, 16385, 16385, 16385, 16386, 16385, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16387, 16384, 16384, 16386, 16384, 16386, 16387, 16387, 16387, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16390, 16384, 16384, 16385, 16384, 16385, 16387, 16387, 16387, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16395, 16384, 16384, 16387, 16387, 16386, 16386, 16387, 16386, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16402, 16384, 16385, 16388, 16389, 16388, 16387, 16388, 16388, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16414, 16386, 16385, 16388, 16390, 16389, 16388, 16389, 16387, 16386, 16386, 16386, 16384, 16384, 16384, 16384, 16384, 16384, 16388, /*0 - 18*/},
                        {16432, 16396, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16396, /*0 - 18*/},
                    },
                    /* nBBMeshLut[15][19] */
                    {
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16398, 16389, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                        {16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, /*0 - 18*/},
                    },
                },
            },
            /* tLumaMeshTab */
            {
                /* nLumaMeshLut[15][19] */
                {
                    {32587, 30433, 27846, 25531, 23685, 22285, 21248, 20502, 20011, 19765, 19765, 20011, 20502, 21248, 22285, 23685, 25531, 27846, 30433, /*0 - 18*/},
                    {31976, 29806, 26566, 24239, 22432, 21126, 20197, 19498, 19042, 18839, 18886, 19188, 19734, 20524, 21643, 23080, 24827, 27337, 29435, /*0 - 18*/},
                    {31324, 28657, 25708, 23484, 21752, 20537, 19649, 18944, 18464, 18242, 18290, 18610, 19171, 19970, 21063, 22433, 24076, 26384, 28562, /*0 - 18*/},
                    {30732, 27832, 25062, 22905, 21247, 20078, 19185, 18451, 17935, 17696, 17762, 18108, 18700, 19514, 20669, 21991, 23498, 25673, 27850, /*0 - 18*/},
                    {30256, 27279, 24612, 22500, 20898, 19742, 18821, 18049, 17488, 17213, 17289, 17683, 18323, 19141, 20319, 21621, 23060, 25160, 27315, /*0 - 18*/},
                    {29927, 26937, 24329, 22244, 20685, 19526, 18580, 17767, 17135, 16804, 16891, 17351, 18044, 18846, 19935, 21267, 22795, 24853, 26959, /*0 - 18*/},
                    {29759, 26780, 24168, 22090, 20561, 19406, 18450, 17601, 16894, 16474, 16583, 17142, 17890, 18722, 19706, 20849, 22515, 24758, 26781, /*0 - 18*/},
                    {29759, 26757, 24151, 22076, 20546, 19390, 18439, 17582, 16848, 16384, 16500, 17103, 17880, 18779, 19751, 20762, 22466, 24812, 26781, /*0 - 18*/},
                    {29927, 26881, 24294, 22223, 20675, 19509, 18556, 17720, 17039, 16638, 16730, 17259, 18005, 18913, 19976, 21177, 22785, 24920, 26959, /*0 - 18*/},
                    {30256, 27181, 24567, 22481, 20912, 19743, 18801, 18000, 17394, 17073, 17140, 17574, 18257, 19128, 20217, 21502, 23044, 25109, 27315, /*0 - 18*/},
                    {30732, 27660, 24982, 22852, 21239, 20069, 19151, 18391, 17843, 17570, 17626, 17994, 18616, 19451, 20525, 21806, 23354, 25490, 27850, /*0 - 18*/},
                    {31324, 28334, 25533, 23359, 21687, 20490, 19585, 18863, 18366, 18123, 18164, 18491, 19075, 19894, 20969, 22291, 23890, 26103, 28562, /*0 - 18*/},
                    {31976, 29262, 26261, 24032, 22299, 21044, 20117, 19420, 18959, 18732, 18766, 19066, 19624, 20440, 21535, 22892, 24558, 26907, 29435, /*0 - 18*/},
                    {32587, 30594, 27271, 24925, 23122, 21778, 20793, 20081, 19623, 19412, 19448, 19742, 20304, 21129, 22245, 23667, 25468, 28082, 30433, /*0 - 18*/},
                    {32991, 31477, 29085, 26751, 24812, 23317, 22213, 21432, 20929, 20681, 20681, 20929, 21432, 22213, 23317, 24812, 26751, 29085, 31477, /*0 - 18*/},
                },
            },
        },
    },
};

AX_S32 ax_sample_isp_iq_cfg_param_lsc(AX_U8 pipe, SAMPLE_ISP_LSC_PARAM_T *pIspLscParam, SAMPLE_ISP_LSC_PARAM_T  *pCtxLscParam, AX_U8 *nUserUpdate)
{
    AX_S32 axRet = 0;
    AX_U8 i = 0, j = 0;
    AX_CHAR string[48] = {0};

    COMM_ISP_CHECK_PTR_VALID(pIspLscParam);
    COMM_ISP_CHECK_VALUE_RANGE_VALID(pipe, 0, (DEF_VIN_PIPE_MAX_NUM - 1));

    /*TODO: add check getted iq params */
    COMM_ISP_CHECK_VALUE_RANGE_STRING("nLscEn", pIspLscParam->nLscEn, 0, 1);
    COMM_ISP_CHECK_VALUE_RANGE_STRING("nRefMode", pIspLscParam->nRefMode, 0, 1);
    COMM_ISP_CHECK_VALUE_RANGE_STRING("nMeshMode", pIspLscParam->nMeshMode, 0, 1);
    COMM_ISP_CHECK_VALUE_RANGE_STRING("nAutoMode", pIspLscParam->nAutoMode, 0, 1);

    if (pIspLscParam->nAutoMode == 0) {
        for (i = 0; i < SAMPLE_ISP_LSC_MESH_SIZE_V; i++) {
            for (j = 0; j < SAMPLE_ISP_LSC_MESH_SIZE_H; j++) {
                snprintf(string, 48, "tManualParam.nRRMeshLut[%d][%d]", i, j);
                COMM_ISP_CHECK_VALUE_RANGE_STRING(string, pIspLscParam->tManualParam.tColorMeshTab.nRRMeshLut[i][j], 0x4000, 0x3FFFF);
                snprintf(string, 48, "tManualParam.nGRMeshLut[%d][%d]", i, j);
                COMM_ISP_CHECK_VALUE_RANGE_STRING(string, pIspLscParam->tManualParam.tColorMeshTab.nGRMeshLut[i][j], 0x4000, 0x3FFFF);
                snprintf(string, 48, "tManualParam.nGBMeshLut[%d][%d]", i, j);
                COMM_ISP_CHECK_VALUE_RANGE_STRING(string, pIspLscParam->tManualParam.tColorMeshTab.nGBMeshLut[i][j], 0x4000, 0x3FFFF);
                snprintf(string, 48, "tManualParam.nBBMeshLut[%d][%d]", i, j);
                COMM_ISP_CHECK_VALUE_RANGE_STRING(string, pIspLscParam->tManualParam.tColorMeshTab.nBBMeshLut[i][j], 0x4000, 0x3FFFF);
                snprintf(string, 48, "tManualParam.nLumaMeshLut[%d][%d]", i, j);
                COMM_ISP_CHECK_VALUE_RANGE_STRING(string, pIspLscParam->tManualParam.tLumaMeshTab.nLumaMeshLut[i][j], 0x4000, 0x3FFFF);
            }
        }
    } else {
        COMM_ISP_CHECK_VALUE_RANGE_STRING("tAutoParam.nDampRatio", pIspLscParam->tAutoParam.nDampRatio, 0, 100);
        COMM_ISP_CHECK_VALUE_RANGE_STRING("tAutoParam.nParamGrpNum", pIspLscParam->tAutoParam.nParamGrpNum, 0,
                                 AX_ISP_AUTO_TABLE_MAX_NUM);
        for (i = 0; i < pIspLscParam->tAutoParam.nParamGrpNum; i++) {
            snprintf(string, 48, "tAutoParam.nRefVal[%d]", i);
            if (pIspLscParam->nRefMode == 0) {
                COMM_ISP_CHECK_VALUE_RANGE_STRING(string, pIspLscParam->tAutoParam.nRefVal[i], 0x0, 0xFFFFFFFF);
            } else if (pIspLscParam->nRefMode == 1) {
                COMM_ISP_CHECK_VALUE_RANGE_STRING(string, pIspLscParam->tAutoParam.nRefVal[i], 0x400, 0xFFFFFFFF);
            }
            snprintf(string, 48, "tAutoParam.nLumaRatio[%d]", i);
            COMM_ISP_CHECK_VALUE_RANGE_STRING(string, pIspLscParam->tAutoParam.nLumaRatio[i],  0, 100);
        }

        COMM_ISP_CHECK_VALUE_RANGE_STRING("tCalibMeshValue.nColorTempNum", pIspLscParam->tAutoParam.tCalibMeshValue.nColorTempNum, 0,
                                 AX_ISP_LSC_COLOR_TEMP_GRP_NUM);
        for (int m = 0; m < pIspLscParam->tAutoParam.tCalibMeshValue.nColorTempNum; m++) {
            snprintf(string, 48, "tCalibMeshValue.nColorTemp[%d]", m);
            COMM_ISP_CHECK_VALUE_RANGE_STRING(string, pIspLscParam->tAutoParam.tCalibMeshValue.nColorTemp[m], 0, 100000);
            for (i = 0; i < SAMPLE_ISP_LSC_MESH_SIZE_V; i++) {
                for (j = 0; j < SAMPLE_ISP_LSC_MESH_SIZE_H; j++) {
                    snprintf(string, 48, "tCalibMeshValue.nRRMeshLut[%d][%d]", i, j);
                    COMM_ISP_CHECK_VALUE_RANGE_STRING(string, pIspLscParam->tAutoParam.tCalibMeshValue.tColorMeshTab[m].nRRMeshLut[i][j], 0x4000,
                                             0x3FFFF);
                    snprintf(string, 48, "tCalibMeshValue.nGRMeshLut[%d][%d]", i, j);
                    COMM_ISP_CHECK_VALUE_RANGE_STRING(string, pIspLscParam->tAutoParam.tCalibMeshValue.tColorMeshTab[m].nGRMeshLut[i][j], 0x4000,
                                             0x3FFFF);
                    snprintf(string, 48, "tCalibMeshValue.nGBMeshLut[%d][%d]", i, j);
                    COMM_ISP_CHECK_VALUE_RANGE_STRING(string, pIspLscParam->tAutoParam.tCalibMeshValue.tColorMeshTab[m].nGBMeshLut[i][j], 0x4000,
                                             0x3FFFF);
                    snprintf(string, 48, "tCalibMeshValue.nBBMeshLut[%d][%d]", i, j);
                    COMM_ISP_CHECK_VALUE_RANGE_STRING(string, pIspLscParam->tAutoParam.tCalibMeshValue.tColorMeshTab[m].nBBMeshLut[i][j], 0x4000,
                                             0x3FFFF);
                }
            }
        }
        for (i = 0; i < SAMPLE_ISP_LSC_MESH_SIZE_V; i++) {
            for (j = 0; j < SAMPLE_ISP_LSC_MESH_SIZE_H; j++) {
                snprintf(string, 48, "tCalibMeshValue.nLumaMeshLut[%d][%d]", i, j);
                COMM_ISP_CHECK_VALUE_RANGE_STRING(string, pIspLscParam->tAutoParam.tCalibMeshValue.tLumaMeshTab.nLumaMeshLut[i][j], 0x4000,
                                         0x3FFFF);
            }
        }
    }

    memcpy(pCtxLscParam, pIspLscParam, sizeof(SAMPLE_ISP_LSC_PARAM_T));
    *nUserUpdate = 1;

    return axRet;
}

static SAMPLE_ISP_LSC_CTX_T g_tLscAlgCtx[AX_PIPE_MAX_NUM];
static int g_isPipeValid[AX_PIPE_MAX_NUM] = {0};
static int g_validPipeCnt = 0;

SAMPLE_ISP_LSC_CTX_T *sample_lsc_get_ctx_handle(AX_U32 pipe)
{
    SAMPLE_ISP_LSC_CTX_T *pLsc_ctx = &g_tLscAlgCtx[pipe];
    return pLsc_ctx;
}


void __ax_sample_isp_alg_lsc_sort_by_cct(SAMPLE_ISP_LSC_CALIB_T *tCalibMeshValue)
{
    SAMPLE_ISP_LSC_COLOR_MESH_T meshtemp;
    AX_U32  temp;

    for (int i = 0; i < tCalibMeshValue->nColorTempNum - 1; i ++) {
        for (int j = 0; j < tCalibMeshValue->nColorTempNum-1-i; j ++) {
            if (tCalibMeshValue->nColorTemp[j] > tCalibMeshValue->nColorTemp[j+1]) {
                temp = tCalibMeshValue->nColorTemp[j];
                tCalibMeshValue->nColorTemp[j] = tCalibMeshValue->nColorTemp[j+1];
                tCalibMeshValue->nColorTemp[j+1] = temp;
                meshtemp = tCalibMeshValue->tColorMeshTab[j+1];
                tCalibMeshValue->tColorMeshTab[j+1] = tCalibMeshValue->tColorMeshTab[j];
                tCalibMeshValue->tColorMeshTab[j] = meshtemp;
            }
        }
    }
}

AX_S32 ax_sample_isp_alg_lsc_luma_interpo(SAMPLE_ISP_LSC_PARAM_T *pCtxLscParam, AX_ISP_LSC_INPUT_INFO_T *pLscInputInfo,
                                    AX_F32 *fLumaRatioOut)
{
    AX_U32 x = 0;
    AX_U32 x0 = 0, x1 = 0;
    AX_U32 y0 = 0, y1 = 0;

    SAMPLE_ISP_LSC_AUTO_T tAutoParam = pCtxLscParam->tAutoParam;

    if(1 == pCtxLscParam->nRefMode)
    {
        x = pLscInputInfo->uTotalGain[0];
    } else {
        x = pLscInputInfo->uLux;
    }

    AX_U8 x_len = tAutoParam.nParamGrpNum;
    // COMM_ISP_PRT("lsc x:%d\n",x);
    // COMM_ISP_PRT("lsc x_len:%d\n",x_len);
    // COMM_ISP_PRT("lsc tAutoParam.nRefVal[0]:%d\n",tAutoParam.nRefVal[0]);
    // COMM_ISP_PRT("lsc tAutoParam.nRefVal[x_len - 1]:%d\n",tAutoParam.nRefVal[x_len - 1]);
    if (x < tAutoParam.nRefVal[0]) {
        *fLumaRatioOut = (AX_F32)tAutoParam.nLumaRatio[0];
    } else if (x >= tAutoParam.nRefVal[x_len - 1]) {
        *fLumaRatioOut = (AX_F32)tAutoParam.nLumaRatio[x_len - 1];
    } else {
        for (int i = 0; i < (int)x_len - 1; i++) {
            x0 = tAutoParam.nRefVal[i];
            x1 = tAutoParam.nRefVal[i + 1];

            if (x >= x1) {
                continue;
            }

            y0 = tAutoParam.nLumaRatio[i];
            y1 = tAutoParam.nLumaRatio[i + 1];

            if ((x >= x0) && (x < x1)) {
                *fLumaRatioOut = (AX_F32)(x - x0) / (x1 - x0) * y1 + (AX_F32)(x1 - x) / (x1 - x0) * y0 + 0.5;
            }

            break;
        }
    }
    // COMM_ISP_PRT("lsc fLumaRatioOut:%f\n",*fLumaRatioOut);

    return 0;
}

AX_S32 ax_sample_isp_alg_lsc_cct_interpo(SAMPLE_ISP_LSC_CALIB_T *tCalibMeshValue, AX_ISP_LSC_INPUT_INFO_T *pLscInputInfo,
                                    SAMPLE_ISP_LSC_COLOR_MESH_T *tColorMeshTab)
{
    AX_S32 result = 0;
    AX_F32 x = 0;
    AX_U32 x0 = 0, x1 = 0;
    AX_U8 x_len = 0;
    AX_U32 yrr0 = 0, yrr1 = 0;
    AX_U32 ygr0 = 0, ygr1 = 0;
    AX_U32 ygb0 = 0, ygb1 = 0;
    AX_U32 ybb0 = 0, ybb1 = 0;
    AX_F32 ratio0 = 0.0f, ratio1 = 0.0f;

    x = (AX_F32)pLscInputInfo->uColorTemp;
    x_len = tCalibMeshValue->nColorTempNum;
    // COMM_ISP_PRT("lsc Temp x:%f\n",x);
    // COMM_ISP_PRT("lsc Temp x_len:%d\n",x_len);

    if (x < tCalibMeshValue->nColorTemp[0]) {
        for (int i=0; i<SAMPLE_ISP_LSC_MESH_SIZE_V; i++) {
            for(int j=0; j<SAMPLE_ISP_LSC_MESH_SIZE_H; j++){
                tColorMeshTab->nRRMeshLut[i][j] = tCalibMeshValue->tColorMeshTab[0].nRRMeshLut[i][j];
                tColorMeshTab->nGRMeshLut[i][j] = tCalibMeshValue->tColorMeshTab[0].nGRMeshLut[i][j];
                tColorMeshTab->nGBMeshLut[i][j] = tCalibMeshValue->tColorMeshTab[0].nGBMeshLut[i][j];
                tColorMeshTab->nBBMeshLut[i][j] = tCalibMeshValue->tColorMeshTab[0].nBBMeshLut[i][j];
            }
        }
    } else if (x >= tCalibMeshValue->nColorTemp[x_len - 1]) {
        for (int i=0; i<SAMPLE_ISP_LSC_MESH_SIZE_V; i++) {
            for (int j=0; j<SAMPLE_ISP_LSC_MESH_SIZE_H; j++) {
                tColorMeshTab->nRRMeshLut[i][j] = tCalibMeshValue->tColorMeshTab[x_len - 1].nRRMeshLut[i][j];
                tColorMeshTab->nGRMeshLut[i][j] = tCalibMeshValue->tColorMeshTab[x_len - 1].nGRMeshLut[i][j];
                tColorMeshTab->nGBMeshLut[i][j] = tCalibMeshValue->tColorMeshTab[x_len - 1].nGBMeshLut[i][j];
                tColorMeshTab->nBBMeshLut[i][j] = tCalibMeshValue->tColorMeshTab[x_len - 1].nBBMeshLut[i][j];
            }
        }
    } else {
        for (int k = 0; k < (int)x_len - 1; k++) {
            x0 = tCalibMeshValue->nColorTemp[k];
            x1 = tCalibMeshValue->nColorTemp[k + 1];
            if (x >= x1) {
                continue;
            }

            ratio0 = (x - x0) / (x1 - x0);
            ratio1 = (x1 - x) / (x1 - x0);

            if ((x >= x0) && (x < x1)) {
                for (int i = 0; i < SAMPLE_ISP_LSC_MESH_SIZE_V; i++){
                    for (int j = 0; j < SAMPLE_ISP_LSC_MESH_SIZE_H; j++) {
                        yrr0 = tCalibMeshValue->tColorMeshTab[k].nRRMeshLut[i][j];
                        yrr1 = tCalibMeshValue->tColorMeshTab[k + 1].nRRMeshLut[i][j];
                        ygr0 = tCalibMeshValue->tColorMeshTab[k].nGRMeshLut[i][j];
                        ygr1 = tCalibMeshValue->tColorMeshTab[k + 1].nGRMeshLut[i][j];
                        ygb0 = tCalibMeshValue->tColorMeshTab[k].nGBMeshLut[i][j];
                        ygb1 = tCalibMeshValue->tColorMeshTab[k + 1].nGBMeshLut[i][j];
                        ybb0 = tCalibMeshValue->tColorMeshTab[k].nBBMeshLut[i][j];
                        ybb1 = tCalibMeshValue->tColorMeshTab[k + 1].nBBMeshLut[i][j];

                        tColorMeshTab->nRRMeshLut[i][j] = (AX_U32)(ratio0 * yrr1 + ratio1 * yrr0 + 0.5);
                    //    COMM_ISP_PRT("lsc tColorMeshTab.nRRMeshLut[%d][%d]:%d\n",i,j,tColorMeshTab->nRRMeshLut[i][j]);
                        tColorMeshTab->nGRMeshLut[i][j] = (AX_U32)(ratio0 * ygr1 + ratio1 * ygr0 + 0.5);
                        tColorMeshTab->nGBMeshLut[i][j] = (AX_U32)(ratio0 * ygb1 + ratio1 * ygb0 + 0.5);
                        tColorMeshTab->nBBMeshLut[i][j] = (AX_U32)(ratio0 * ybb1 + ratio1 * ybb0 + 0.5);
                    //    COMM_ISP_PRT("lsc tColorMeshTab.nBBMeshLut[0][0]:%d\n",i,j,tColorMeshTab->nBBMeshLut[i][j]);
                    }
                }
            }
            break;
        }
    }

    return result;
}

#define ROUND(x)                            ((x) + 0.5)
#define ABS(a)                              (((a) < 0) ? -(a) : (a))
#define FLOAT_BIAS(width)                   (1 << (width)) /* 2^(w) */
#define MASK(width)                         ((1 << (width)) - 1) /* 2^w - 1 */

AX_F32 sample_int_convert_to_float(AX_S64 p, AX_S32 int_bit, AX_S32 frac_bit, AX_BOOL signed_value)
{
    AX_F32 result = 0.0;
    if ((int_bit + frac_bit + signed_value) > 32) {
        COMM_ISP_PRT("%s, invalid parameters\n", __func__);
        return -1.0;
    }
    AX_BOOL neg_flag = AX_FALSE;
    if (signed_value) {
        if (p < 0) {
            p = -p;
            neg_flag = AX_TRUE;
        }
    }

    result = ((AX_F64)p / ((AX_U64)1 << frac_bit));

    if (neg_flag) {
        result = -result;
    }

    return (AX_F32)result;
}
AX_U32 sample_comm_calc_float2regval_round(double value, AX_U8 sign, AX_U8 expo, AX_U8 mant)
{
    AX_U32 regval = 0;
    AX_U32 sign_bit = 0;
    AX_U32 data_bit = expo + mant;
    regval = ROUND(ABS(value) * FLOAT_BIAS(mant));
    if (regval == 0) {
        return regval;
    }

    if (regval >= (1 << data_bit)) {
        regval = (1 << data_bit) - 1;
    }

    /* if reg is signed */
    if (sign > 0) {
        sign_bit = expo + mant;
        if (value < 0) {
            regval = ((~regval + 1) & MASK(data_bit)) | (1 << sign_bit);
        } else {
            regval = regval & MASK(data_bit);
        }
    }
    return regval;
}


void ax_sample_isp_alg_lsc_cal_mesh(AX_U8 pipe, SAMPLE_ISP_LSC_LUMA_MESH_T *tLumaMeshTab,
            SAMPLE_ISP_LSC_COLOR_MESH_T *tColorMeshTab, AX_F32 fLumaRatio, AX_F32 fDampRatio, AX_ISP_LSC_TABLE_T *mesh_table)
{
    SAMPLE_ISP_LSC_CTX_T *pAlgCtx = sample_lsc_get_ctx_handle(pipe);
    AX_F32 fLumaTemp = 0.0f, fLumaNew = 0.0f, fColorTemp = 0.0f;
    AX_F32 fResultTemp = 0.0f;

    fLumaRatio /= 100.0f;
    for (int i=0; i<SAMPLE_ISP_LSC_MESH_SIZE_V; i++) {
        for (int j=0; j<SAMPLE_ISP_LSC_MESH_SIZE_H; j++) {
            fLumaTemp = sample_int_convert_to_float(tLumaMeshTab->nLumaMeshLut[i][j], 4, 14, AX_FALSE);
            fLumaNew = (fLumaTemp - 1) * fLumaRatio + 1;

            fColorTemp = sample_int_convert_to_float(tColorMeshTab->nRRMeshLut[i][j], 4, 14, AX_FALSE);
            fResultTemp = fColorTemp * fLumaNew;
            pAlgCtx->tStatus.fRRLscMatrix[i*SAMPLE_ISP_LSC_MESH_SIZE_H+j] =
                    fDampRatio * pAlgCtx->tStatus.fRRLscMatrix[i*SAMPLE_ISP_LSC_MESH_SIZE_H+j] + (1 - fDampRatio) * fResultTemp;
            mesh_table->rr_gain_lut[i*SAMPLE_ISP_LSC_MESH_SIZE_H+j] =
                    sample_comm_calc_float2regval_round(pAlgCtx->tStatus.fRRLscMatrix[i*SAMPLE_ISP_LSC_MESH_SIZE_H+j], AX_FALSE, 4, 14);

            fColorTemp = sample_int_convert_to_float(tColorMeshTab->nGRMeshLut[i][j], 4, 14, AX_FALSE);
            fResultTemp = fColorTemp * fLumaNew;
            pAlgCtx->tStatus.fGRLscMatrix[i*SAMPLE_ISP_LSC_MESH_SIZE_H+j] =
                    fDampRatio * pAlgCtx->tStatus.fGRLscMatrix[i*SAMPLE_ISP_LSC_MESH_SIZE_H+j] + (1 - fDampRatio) * fResultTemp;
            mesh_table->gr_gain_lut[i*SAMPLE_ISP_LSC_MESH_SIZE_H+j] =
                    sample_comm_calc_float2regval_round(pAlgCtx->tStatus.fGRLscMatrix[i*SAMPLE_ISP_LSC_MESH_SIZE_H+j], AX_FALSE, 4, 14);

            fColorTemp = sample_int_convert_to_float(tColorMeshTab->nGBMeshLut[i][j], 4, 14, AX_FALSE);
            fResultTemp = fColorTemp * fLumaNew;
            pAlgCtx->tStatus.fGBLscMatrix[i*SAMPLE_ISP_LSC_MESH_SIZE_H+j] =
                    fDampRatio * pAlgCtx->tStatus.fGBLscMatrix[i*SAMPLE_ISP_LSC_MESH_SIZE_H+j] + (1 - fDampRatio) * fResultTemp;
            mesh_table->gb_gain_lut[i*SAMPLE_ISP_LSC_MESH_SIZE_H+j] =
                    sample_comm_calc_float2regval_round(pAlgCtx->tStatus.fGBLscMatrix[i*SAMPLE_ISP_LSC_MESH_SIZE_H+j], AX_FALSE, 4, 14);

            fColorTemp = sample_int_convert_to_float(tColorMeshTab->nBBMeshLut[i][j], 4, 14, AX_FALSE);
            fResultTemp = fColorTemp * fLumaNew;
            pAlgCtx->tStatus.fBBLscMatrix[i*SAMPLE_ISP_LSC_MESH_SIZE_H+j] =
                    fDampRatio * pAlgCtx->tStatus.fBBLscMatrix[i*SAMPLE_ISP_LSC_MESH_SIZE_H+j] + (1 - fDampRatio) * fResultTemp;
            mesh_table->bb_gain_lut[i*SAMPLE_ISP_LSC_MESH_SIZE_H+j] =
                    sample_comm_calc_float2regval_round(pAlgCtx->tStatus.fBBLscMatrix[i*SAMPLE_ISP_LSC_MESH_SIZE_H+j], AX_FALSE, 4, 14);
        }
    }
}

AX_S32 ax_sample_isp_alg_lsc_init(AX_U8 pipe, SAMPLE_ISP_LSC_PARAM_T  *pCtxLscParam,
                                    AX_ISP_LSC_TABLE_T *mesh_table)
{
    AX_S32 result = 0;
    int nInitMatrix = 0;
    AX_BOOL bUseAutoPara = AX_FALSE;
    AX_U8 nLumaRatio = 0;
    if (pipe >= AX_PIPE_MAX_NUM) {
        COMM_ISP_PRT("%s , invalid pipe!\n", __func__);
        result = -1;
        return result;
    }
    g_isPipeValid[pipe] = 1;
    g_validPipeCnt++;

    SAMPLE_ISP_LSC_CTX_T *pAlgCtx = sample_lsc_get_ctx_handle(pipe);

    SAMPLE_ISP_LSC_MANUAL_T tManualParam = pCtxLscParam->tManualParam;
    SAMPLE_ISP_LSC_AUTO_T tAutoParam = pCtxLscParam->tAutoParam;

    __ax_sample_isp_alg_lsc_sort_by_cct(&(tAutoParam.tCalibMeshValue));
    for (int i = 0; i < tAutoParam.tCalibMeshValue.nColorTempNum; i++)
    {
        if (5000 == tAutoParam.tCalibMeshValue.nColorTemp[i]) {
            nInitMatrix = i;
            bUseAutoPara = AX_TRUE;
            break;
        }
    }

    nLumaRatio = 100;

    AX_F32 fDampRatio = 0.0f;
    memset(pAlgCtx->tStatus.fRRLscMatrix, 0, sizeof(pAlgCtx->tStatus.fRRLscMatrix));
    memset(pAlgCtx->tStatus.fGRLscMatrix, 0, sizeof(pAlgCtx->tStatus.fGRLscMatrix));
    memset(pAlgCtx->tStatus.fGBLscMatrix, 0, sizeof(pAlgCtx->tStatus.fGBLscMatrix));
    memset(pAlgCtx->tStatus.fBBLscMatrix, 0, sizeof(pAlgCtx->tStatus.fBBLscMatrix));

    if (AX_TRUE == bUseAutoPara) {
        ax_sample_isp_alg_lsc_cal_mesh(pipe, &(tAutoParam.tCalibMeshValue.tLumaMeshTab),
                                &(tAutoParam.tCalibMeshValue.tColorMeshTab[nInitMatrix]),
                                (AX_F32)nLumaRatio, fDampRatio, mesh_table);
    } else {
        ax_sample_isp_alg_lsc_cal_mesh(pipe, &(tManualParam.tLumaMeshTab), &(tManualParam.tColorMeshTab),
                                    (AX_F32)nLumaRatio, fDampRatio, mesh_table);
    }

    return result;
}

AX_S32 ax_sample_isp_alg_lsc_deinit(AX_U8 pipe)
{
    if (pipe >= AX_PIPE_MAX_NUM) {
        return -1;
    }

    g_isPipeValid[pipe] = 0;
    g_validPipeCnt--;
    return 0;
}

AX_S32 ax_sample_isp_alg_lsc_run(AX_U8 pipe, AX_U8 *nUserUpdate, SAMPLE_ISP_LSC_PARAM_T  *pCtxLscParam, AX_ISP_LSC_INPUT_INFO_T tLscInputInfo,
                                AX_BOOL *bUpdateMeshRegs, AX_ISP_LSC_TABLE_T *mesh_table)
{
    if ( (pipe > AX_PIPE_MAX_NUM) || (g_isPipeValid[pipe] == 0) ) {
        COMM_ISP_PRT("%s LSC Algo of Pipe %d is NOT Init Yet !\n", __func__, pipe);
        return -1;
    }

    AX_S32 axRet = 0;
    AX_F32 fDampRatio = 0.0f;
    int nInitMatrix = 0;

    SAMPLE_ISP_LSC_PARAM_T *tLscParam = pCtxLscParam;
    AX_BOOL bUpdateRatio = AX_FALSE;
    SAMPLE_ISP_LSC_CTX_T *pAlgCtx = sample_lsc_get_ctx_handle(pipe);
    SAMPLE_ISP_LSC_AUTO_T tAutoParam = tLscParam->tAutoParam;
    AX_U8 nLumaRatio = 100;
    *bUpdateMeshRegs = AX_FALSE;

    if (*nUserUpdate == AX_TRUE) {
        fDampRatio = 0.0f;
        memset(pAlgCtx->tStatus.fRRLscMatrix, 0, sizeof(pAlgCtx->tStatus.fRRLscMatrix));
        memset(pAlgCtx->tStatus.fGRLscMatrix, 0, sizeof(pAlgCtx->tStatus.fGRLscMatrix));
        memset(pAlgCtx->tStatus.fGBLscMatrix, 0, sizeof(pAlgCtx->tStatus.fGBLscMatrix));
        memset(pAlgCtx->tStatus.fBBLscMatrix, 0, sizeof(pAlgCtx->tStatus.fBBLscMatrix));

        /* manual mode */
        if(tLscParam->nAutoMode == 0) {
            ax_sample_isp_alg_lsc_cal_mesh(pipe, &(tLscParam->tManualParam.tLumaMeshTab),
                                    &(tLscParam->tManualParam.tColorMeshTab),
                                    (AX_F32)tLscParam->tManualParam.nLumaRatio, fDampRatio, mesh_table);
            *bUpdateMeshRegs = AX_TRUE;
        } else {/*auto mode */
            __ax_sample_isp_alg_lsc_sort_by_cct(&(tAutoParam.tCalibMeshValue));
            for (int i = 0; i < tAutoParam.tCalibMeshValue.nColorTempNum; i++)
            {
                if (5000 == tAutoParam.tCalibMeshValue.nColorTemp[i]) {
                    nInitMatrix = i;
                    break;
                }
            }
            ax_sample_isp_alg_lsc_cal_mesh(pipe, &(tAutoParam.tCalibMeshValue.tLumaMeshTab), &(tAutoParam.tCalibMeshValue.tColorMeshTab[nInitMatrix]),
                                    (AX_F32)nLumaRatio, fDampRatio, mesh_table);  //cal base mesh table. default use 5000

            ax_sample_isp_alg_lsc_luma_interpo(pCtxLscParam, &tLscInputInfo, &(pAlgCtx->tStatus.fLumaRatioOut));
            ax_sample_isp_alg_lsc_cct_interpo(&(tAutoParam.tCalibMeshValue), &tLscInputInfo, &(pAlgCtx->tStatus.tColorMeshTab));
            fDampRatio = tAutoParam.nDampRatio / 100.0f;
            ax_sample_isp_alg_lsc_cal_mesh(pipe, &(tAutoParam.tCalibMeshValue.tLumaMeshTab),  //cal fusion base mesh tabel and curr mesh
                                    &(pAlgCtx->tStatus.tColorMeshTab), pAlgCtx->tStatus.fLumaRatioOut, fDampRatio, mesh_table);
            pAlgCtx->uPreTotalGain[0] = tLscInputInfo.uTotalGain[0];
            pAlgCtx->uPreLux = tLscInputInfo.uLux;
            pAlgCtx->uPreColorTemp = tLscInputInfo.uColorTemp;
            *bUpdateMeshRegs = AX_TRUE;
        }
        *nUserUpdate = AX_FALSE;
    } else {
        if (1 == tLscParam->nAutoMode && 1 == tLscParam->nLscEn) { //auto
            if (1 == tLscParam->nRefMode) {  //gain
                if (pAlgCtx->uPreTotalGain[0] != tLscInputInfo.uTotalGain[0]) {
                    bUpdateRatio = AX_TRUE;
                }
            } else { //lux
                if (pAlgCtx->uPreLux != tLscInputInfo.uLux) {
                    bUpdateRatio = AX_TRUE;
                }
            }
            if (AX_TRUE == bUpdateRatio) {
                // COMM_ISP_PRT("sample Auto Mode gain/lux update\n");
                ax_sample_isp_alg_lsc_luma_interpo(pCtxLscParam, &tLscInputInfo, &(pAlgCtx->tStatus.fLumaRatioOut));

                pAlgCtx->uPreTotalGain[0] = tLscInputInfo.uTotalGain[0];
                pAlgCtx->uPreLux = tLscInputInfo.uLux;
            }
            if (pAlgCtx->uPreColorTemp != tLscInputInfo.uColorTemp) {
                // COMM_ISP_PRT("sample Auto Mode cct update\n");
                __ax_sample_isp_alg_lsc_sort_by_cct(&(tAutoParam.tCalibMeshValue));
                ax_sample_isp_alg_lsc_cct_interpo(&(tAutoParam.tCalibMeshValue), &tLscInputInfo, &(pAlgCtx->tStatus.tColorMeshTab));

                pAlgCtx->uPreColorTemp = tLscInputInfo.uColorTemp;
            }

            fDampRatio = tAutoParam.nDampRatio / 100.0f;
            ax_sample_isp_alg_lsc_cal_mesh(pipe, &(tAutoParam.tCalibMeshValue.tLumaMeshTab),
                                        &(pAlgCtx->tStatus.tColorMeshTab), pAlgCtx->tStatus.fLumaRatioOut, fDampRatio, mesh_table);
            *bUpdateMeshRegs = AX_TRUE;
        }
    }
    return axRet;
}


AX_S32 sample_lsc_init(AX_U8 pipe, AX_ISP_LSC_TABLE_T  *tLscResult)
{
    AX_S32 axRet = 0;
    SAMPLE_ISP_LSC_PARAM_T       *ptLsc = &sample_lsc_param;

    SAMPLE_ISP_LSC_CTX_T    *pAlgCtx    = sample_lsc_get_ctx_handle(pipe);
    SAMPLE_ISP_LSC_PARAM_T  *pCtxLscParam  = &(pAlgCtx->tLscParam);
    AX_U8 *nUserUpdate = &(pAlgCtx->nUserUpdate);

    ax_sample_isp_iq_cfg_param_lsc(pipe, ptLsc, pCtxLscParam, nUserUpdate);
    ax_sample_isp_alg_lsc_init(pipe, pCtxLscParam, tLscResult);

    return axRet;
}

AX_S32 sample_lsc_deinit(AX_U8 pipe)
{
    AX_S32 axRet = 0;
    axRet = ax_sample_isp_alg_lsc_deinit(pipe);
    return axRet;
}

AX_S32 sample_lsc_run(AX_U8 pipe, AX_ISP_LSC_INPUT_INFO_T tLscInputInfo, AX_BOOL *bUpdateMeshRegs, AX_ISP_LSC_TABLE_T *tLscResult)
{
    AX_S32 axRet = 0;
    SAMPLE_ISP_LSC_CTX_T    *pAlgCtx    = sample_lsc_get_ctx_handle(pipe);
    SAMPLE_ISP_LSC_PARAM_T  *pCtxLscParam  = &(pAlgCtx->tLscParam);
    AX_U8 *nUserUpdate = &(pAlgCtx->nUserUpdate);

    axRet = ax_sample_isp_alg_lsc_run(pipe, nUserUpdate, pCtxLscParam, tLscInputInfo, bUpdateMeshRegs, tLscResult);
    return axRet;
}

